2024-11-04 22:51:09.203 +03:00 [INF] User profile is available. Using 'C:\Users\onura\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-04 22:51:09.559 +03:00 [INF] Now listening on: https://localhost:7161
2024-11-04 22:51:09.561 +03:00 [INF] Now listening on: http://localhost:5129
2024-11-04 22:51:09.565 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-04 22:51:09.567 +03:00 [INF] Hosting environment: Development
2024-11-04 22:51:09.568 +03:00 [INF] Content root path: C:\Users\onura\OneDrive\Belgeler\GitHub\CarRental\Backend\carRental\carRental.API
2024-11-04 22:51:10.621 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - null null
2024-11-04 22:51:10.987 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - 200 null text/html;charset=utf-8 370.468ms
2024-11-04 22:51:11.182 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - null null
2024-11-04 22:51:11.190 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.7318ms
2024-11-04 22:51:13.610 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - null null
2024-11-04 22:51:13.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.9248ms
2024-11-04 22:51:14.692 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - null null
2024-11-04 22:51:14.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 142.2805ms
2024-11-04 22:51:16.588 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v2/swagger.json - null null
2024-11-04 22:51:16.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v2/swagger.json - 200 null application/json;charset=utf-8 13.5268ms
2024-11-04 22:51:29.603 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v2/Auth/login - application/json 64
2024-11-04 22:51:29.702 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.AuthController.LoginV2 (carRental.API)'
2024-11-04 22:51:29.728 +03:00 [INF] Route matched with {action = "LoginV2", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginV2(carRental.API.Models.DTO.auth.LoginDTO) on controller carRental.API.Controllers.AuthController (carRental.API).
2024-11-04 22:51:31.171 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-04 22:51:31.371 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-04 22:51:31.405 +03:00 [INF] Executing OkObjectResult, writing value of type 'carRental.API.Models.DTO.auth.LoginResponseDTO'.
2024-11-04 22:51:31.415 +03:00 [INF] Executed action carRental.API.Controllers.AuthController.LoginV2 (carRental.API) in 1680.1153ms
2024-11-04 22:51:31.417 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.AuthController.LoginV2 (carRental.API)'
2024-11-04 22:51:31.423 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v2/Auth/login - 200 null application/json; charset=utf-8 1820.8398ms
2024-11-04 22:52:56.554 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/1FEB4AB9-A783-42D9-77F1-08DCFADD00E2?status=false - null 0
2024-11-04 22:52:56.605 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API)'
2024-11-04 22:52:56.611 +03:00 [INF] Route matched with {action = "DeleteV2", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteV2(System.Guid, Boolean) on controller carRental.API.Controllers.CategoriesController (carRental.API).
2024-11-04 22:52:56.857 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CateVisit], [c].[Description], [c].[ImageId], [c].[MetaDescription], [c].[MetaKeyword], [c].[MetaTitle], [c].[Name], [c].[Popular], [c].[Slug], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__Id_0
2024-11-04 22:52:56.957 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-11-04 22:52:56.978 +03:00 [INF] Executing OkObjectResult, writing value of type 'carRental.API.Models.DTO.category.CategoryDTO'.
2024-11-04 22:52:56.996 +03:00 [INF] Executed action carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API) in 382.1828ms
2024-11-04 22:52:56.997 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API)'
2024-11-04 22:52:56.998 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/1FEB4AB9-A783-42D9-77F1-08DCFADD00E2?status=false - 200 null application/json; charset=utf-8 445.1086ms
2024-11-04 22:55:10.836 +03:00 [INF] User profile is available. Using 'C:\Users\onura\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-04 22:55:11.078 +03:00 [INF] Now listening on: https://localhost:7161
2024-11-04 22:55:11.080 +03:00 [INF] Now listening on: http://localhost:5129
2024-11-04 22:55:11.083 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-04 22:55:11.084 +03:00 [INF] Hosting environment: Development
2024-11-04 22:55:11.085 +03:00 [INF] Content root path: C:\Users\onura\OneDrive\Belgeler\GitHub\CarRental\Backend\carRental\carRental.API
2024-11-04 22:55:11.963 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - null null
2024-11-04 22:55:12.214 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - 200 null text/html;charset=utf-8 254.8794ms
2024-11-04 22:55:12.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - null null
2024-11-04 22:55:12.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - null null
2024-11-04 22:55:12.387 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.1017ms
2024-11-04 22:55:12.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.5017ms
2024-11-04 22:55:12.530 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - null null
2024-11-04 22:55:12.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 131.529ms
2024-11-04 22:55:15.783 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v2/swagger.json - null null
2024-11-04 22:55:15.799 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v2/swagger.json - 200 null application/json;charset=utf-8 16.8705ms
2024-11-04 22:55:22.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - null null
2024-11-04 22:55:22.529 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.4341ms
2024-11-04 22:55:27.201 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v2/swagger.json - null null
2024-11-04 22:55:27.209 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v2/swagger.json - 200 null application/json;charset=utf-8 8.419ms
2024-11-04 22:55:49.170 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/1FEB4AB9-A783-42D9-77F1-08DCFADD00E2?status=false - null 0
2024-11-04 22:55:49.238 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2024-11-04 22:55:49.242 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-04 22:55:49.244 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/1FEB4AB9-A783-42D9-77F1-08DCFADD00E2?status=false - 401 0 null 74.503ms
2024-11-04 22:56:03.757 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v2/Auth/login - application/json 64
2024-11-04 22:56:03.765 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.AuthController.LoginV2 (carRental.API)'
2024-11-04 22:56:03.792 +03:00 [INF] Route matched with {action = "LoginV2", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginV2(carRental.API.Models.DTO.auth.LoginDTO) on controller carRental.API.Controllers.AuthController (carRental.API).
2024-11-04 22:56:04.976 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-04 22:56:05.176 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-04 22:56:05.208 +03:00 [INF] Executing OkObjectResult, writing value of type 'carRental.API.Models.DTO.auth.LoginResponseDTO'.
2024-11-04 22:56:05.216 +03:00 [INF] Executed action carRental.API.Controllers.AuthController.LoginV2 (carRental.API) in 1418.5987ms
2024-11-04 22:56:05.218 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.AuthController.LoginV2 (carRental.API)'
2024-11-04 22:56:05.225 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v2/Auth/login - 200 null application/json; charset=utf-8 1467.5831ms
2024-11-04 22:56:28.910 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/1FEB4AB9-A783-42D9-77F1-08DCFADD00E2?status=false - null 0
2024-11-04 22:56:28.935 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonReaderException: '0xC8' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.IsReaderAtTokenType(Utf8JsonReader& reader, JsonTokenType tokenType, Boolean advanceReader)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateHeaderClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2024-11-04 22:56:28.959 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2024-11-04 22:56:28.961 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2024-11-04 22:56:28.963 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-04 22:56:28.965 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/1FEB4AB9-A783-42D9-77F1-08DCFADD00E2?status=false - 401 0 null 55.3517ms
2024-11-04 22:57:09.700 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/1FEB4AB9-A783-42D9-77F1-08DCFADD00E2?status=false - null 0
2024-11-04 22:57:09.733 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API)'
2024-11-04 22:57:09.738 +03:00 [INF] Route matched with {action = "DeleteV2", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteV2(System.Guid, Boolean) on controller carRental.API.Controllers.CategoriesController (carRental.API).
2024-11-04 22:57:09.976 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CateVisit], [c].[Description], [c].[ImageId], [c].[MetaDescription], [c].[MetaKeyword], [c].[MetaTitle], [c].[Name], [c].[Popular], [c].[Slug], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__Id_0
2024-11-04 22:57:10.038 +03:00 [INF] Executing OkObjectResult, writing value of type 'carRental.API.Models.DTO.category.CategoryDTO'.
2024-11-04 22:57:10.051 +03:00 [INF] Executed action carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API) in 310.0739ms
2024-11-04 22:57:10.054 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API)'
2024-11-04 22:57:10.055 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/1FEB4AB9-A783-42D9-77F1-08DCFADD00E2?status=false - 200 null application/json; charset=utf-8 355.8822ms
2024-11-04 22:57:16.890 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/v2/Categories/get-all - null null
2024-11-04 22:57:16.895 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CategoriesController.GetAllV2 (carRental.API)'
2024-11-04 22:57:16.900 +03:00 [INF] Route matched with {action = "GetAllV2", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllV2() on controller carRental.API.Controllers.CategoriesController (carRental.API).
2024-11-04 22:57:16.953 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CateVisit], [c].[Description], [c].[ImageId], [c].[MetaDescription], [c].[MetaKeyword], [c].[MetaTitle], [c].[Name], [c].[Popular], [c].[Slug], [c].[Status], [i].[Id], [i].[FileDescription], [i].[FileExtension], [i].[FileName], [i].[FilePath], [i].[FileSize]
FROM [Categories] AS [c]
INNER JOIN [Images] AS [i] ON [c].[ImageId] = [i].[Id]
WHERE [c].[Status] = CAST(1 AS bit)
2024-11-04 22:57:16.966 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[carRental.API.Models.DTO.category.CategoryDTO, carRental.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-04 22:57:16.968 +03:00 [INF] Executed action carRental.API.Controllers.CategoriesController.GetAllV2 (carRental.API) in 66.2181ms
2024-11-04 22:57:16.970 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CategoriesController.GetAllV2 (carRental.API)'
2024-11-04 22:57:16.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/v2/Categories/get-all - 200 null application/json; charset=utf-8 80.4936ms
2024-11-04 22:57:34.472 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/1FEB4AB9-A783-42D9-77F1-08DCFADD00E2?status=true - null 0
2024-11-04 22:57:34.477 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API)'
2024-11-04 22:57:34.479 +03:00 [INF] Route matched with {action = "DeleteV2", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteV2(System.Guid, Boolean) on controller carRental.API.Controllers.CategoriesController (carRental.API).
2024-11-04 22:57:34.488 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CateVisit], [c].[Description], [c].[ImageId], [c].[MetaDescription], [c].[MetaKeyword], [c].[MetaTitle], [c].[Name], [c].[Popular], [c].[Slug], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__Id_0
2024-11-04 22:57:34.537 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-11-04 22:57:34.549 +03:00 [INF] Executing OkObjectResult, writing value of type 'carRental.API.Models.DTO.category.CategoryDTO'.
2024-11-04 22:57:34.551 +03:00 [INF] Executed action carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API) in 69.8756ms
2024-11-04 22:57:34.552 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API)'
2024-11-04 22:57:34.554 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/1FEB4AB9-A783-42D9-77F1-08DCFADD00E2?status=true - 200 null application/json; charset=utf-8 81.4092ms
2024-11-04 22:57:39.779 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/v2/Categories/get-all - null null
2024-11-04 22:57:39.783 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CategoriesController.GetAllV2 (carRental.API)'
2024-11-04 22:57:39.784 +03:00 [INF] Route matched with {action = "GetAllV2", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllV2() on controller carRental.API.Controllers.CategoriesController (carRental.API).
2024-11-04 22:57:39.790 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CateVisit], [c].[Description], [c].[ImageId], [c].[MetaDescription], [c].[MetaKeyword], [c].[MetaTitle], [c].[Name], [c].[Popular], [c].[Slug], [c].[Status], [i].[Id], [i].[FileDescription], [i].[FileExtension], [i].[FileName], [i].[FilePath], [i].[FileSize]
FROM [Categories] AS [c]
INNER JOIN [Images] AS [i] ON [c].[ImageId] = [i].[Id]
WHERE [c].[Status] = CAST(1 AS bit)
2024-11-04 22:57:39.809 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[carRental.API.Models.DTO.category.CategoryDTO, carRental.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-04 22:57:39.813 +03:00 [INF] Executed action carRental.API.Controllers.CategoriesController.GetAllV2 (carRental.API) in 26.4929ms
2024-11-04 22:57:39.816 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CategoriesController.GetAllV2 (carRental.API)'
2024-11-04 22:57:39.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/v2/Categories/get-all - 200 null application/json; charset=utf-8 37.4218ms
2024-11-04 22:57:57.967 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/074BE96E-42B4-408E-FA7C-08DCFB65342F?status=true - null 0
2024-11-04 22:57:57.970 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API)'
2024-11-04 22:57:57.971 +03:00 [INF] Route matched with {action = "DeleteV2", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteV2(System.Guid, Boolean) on controller carRental.API.Controllers.CategoriesController (carRental.API).
2024-11-04 22:57:57.978 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CateVisit], [c].[Description], [c].[ImageId], [c].[MetaDescription], [c].[MetaKeyword], [c].[MetaTitle], [c].[Name], [c].[Popular], [c].[Slug], [c].[Status]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__Id_0
2024-11-04 22:57:57.983 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-11-04 22:57:57.985 +03:00 [INF] Executing OkObjectResult, writing value of type 'carRental.API.Models.DTO.category.CategoryDTO'.
2024-11-04 22:57:57.986 +03:00 [INF] Executed action carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API) in 13.0249ms
2024-11-04 22:57:57.987 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CategoriesController.DeleteV2 (carRental.API)'
2024-11-04 22:57:57.988 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7161/api/v2/Categories/delete-category/074BE96E-42B4-408E-FA7C-08DCFB65342F?status=true - 200 null application/json; charset=utf-8 21.2352ms
2024-11-04 22:58:04.021 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/v2/Categories/get-all - null null
2024-11-04 22:58:04.024 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CategoriesController.GetAllV2 (carRental.API)'
2024-11-04 22:58:04.025 +03:00 [INF] Route matched with {action = "GetAllV2", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllV2() on controller carRental.API.Controllers.CategoriesController (carRental.API).
2024-11-04 22:58:04.033 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CateVisit], [c].[Description], [c].[ImageId], [c].[MetaDescription], [c].[MetaKeyword], [c].[MetaTitle], [c].[Name], [c].[Popular], [c].[Slug], [c].[Status], [i].[Id], [i].[FileDescription], [i].[FileExtension], [i].[FileName], [i].[FilePath], [i].[FileSize]
FROM [Categories] AS [c]
INNER JOIN [Images] AS [i] ON [c].[ImageId] = [i].[Id]
WHERE [c].[Status] = CAST(1 AS bit)
2024-11-04 22:58:04.038 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[carRental.API.Models.DTO.category.CategoryDTO, carRental.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-04 22:58:04.039 +03:00 [INF] Executed action carRental.API.Controllers.CategoriesController.GetAllV2 (carRental.API) in 10.6109ms
2024-11-04 22:58:04.040 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CategoriesController.GetAllV2 (carRental.API)'
2024-11-04 22:58:04.041 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/v2/Categories/get-all - 200 null application/json; charset=utf-8 20.3396ms
2024-11-04 23:02:30.817 +03:00 [INF] User profile is available. Using 'C:\Users\onura\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-04 23:02:31.075 +03:00 [INF] Now listening on: https://localhost:7161
2024-11-04 23:02:31.077 +03:00 [INF] Now listening on: http://localhost:5129
2024-11-04 23:02:31.079 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-04 23:02:31.081 +03:00 [INF] Hosting environment: Development
2024-11-04 23:02:31.082 +03:00 [INF] Content root path: C:\Users\onura\OneDrive\Belgeler\GitHub\CarRental\Backend\carRental\carRental.API
2024-11-04 23:02:31.729 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - null null
2024-11-04 23:02:31.990 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - 200 null text/html;charset=utf-8 271.8134ms
2024-11-04 23:02:32.184 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - null null
2024-11-04 23:02:32.193 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.0706ms
2024-11-04 23:02:34.676 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - null null
2024-11-04 23:02:34.717 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.1389ms
2024-11-04 23:02:35.718 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - null null
2024-11-04 23:02:35.842 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 124.2757ms
2024-11-04 23:03:01.758 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v1/Auth/register - application/json 90
2024-11-04 23:03:01.830 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.AuthController.RegisterV1 (carRental.API)'
2024-11-04 23:03:01.854 +03:00 [INF] Route matched with {action = "RegisterV1", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterV1(carRental.API.Models.DTO.auth.RegisterDTO) on controller carRental.API.Controllers.AuthController (carRental.API).
2024-11-04 23:03:03.141 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-04 23:03:03.297 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-11-04 23:03:03.318 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-11-04 23:03:03.367 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-11-04 23:03:03.374 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-11-04 23:03:03.389 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-04 23:03:03.426 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-04 23:03:03.448 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-04 23:03:03.455 +03:00 [INF] Executed action carRental.API.Controllers.AuthController.RegisterV1 (carRental.API) in 1595.6193ms
2024-11-04 23:03:03.457 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.AuthController.RegisterV1 (carRental.API)'
2024-11-04 23:03:03.464 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v1/Auth/register - 200 null text/plain; charset=utf-8 1706.2368ms
2024-11-04 23:03:15.690 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v1/Auth/login - application/json 64
2024-11-04 23:03:15.696 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.AuthController.LoginV1 (carRental.API)'
2024-11-04 23:03:15.703 +03:00 [INF] Route matched with {action = "LoginV1", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginV1(carRental.API.Models.DTO.auth.LoginDTO) on controller carRental.API.Controllers.AuthController (carRental.API).
2024-11-04 23:03:15.764 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-04 23:03:15.874 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-04 23:03:15.902 +03:00 [INF] Executing OkObjectResult, writing value of type 'carRental.API.Models.DTO.auth.LoginResponseDTO'.
2024-11-04 23:03:15.906 +03:00 [INF] Executed action carRental.API.Controllers.AuthController.LoginV1 (carRental.API) in 200.4656ms
2024-11-04 23:03:15.907 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.AuthController.LoginV1 (carRental.API)'
2024-11-04 23:03:15.908 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v1/Auth/login - 200 null application/json; charset=utf-8 218.901ms
2024-11-04 23:03:50.865 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/v1/Cars/get-all?pageParam=1&pageSize=10 - null null
2024-11-04 23:03:50.894 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'String', could not be converted to 'JsonTokenType.String'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.iat', Position: '125', CurrentDepth: '1', BytesConsumed: '145'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadLong(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2024-11-04 23:03:50.913 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2024-11-04 23:03:50.918 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user|admin)
2024-11-04 23:03:50.924 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-04 23:03:50.925 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/v1/Cars/get-all?pageParam=1&pageSize=10 - 401 0 null 60.4069ms
2024-11-04 23:04:12.289 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/v1/Cars/get-all?pageParam=1&pageSize=10 - null null
2024-11-04 23:04:12.299 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonException: IDX11020: The JSON value of type: 'String', could not be converted to 'JsonTokenType.String'. Reading: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.iat', Position: '125', CurrentDepth: '1', BytesConsumed: '145'.
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadLong(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadPayloadValue(Utf8JsonReader& reader, IDictionary`2 claims)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreatePayloadClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2024-11-04 23:04:12.304 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14101: Unable to decode the payload '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2024-11-04 23:04:12.306 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user|admin)
2024-11-04 23:04:12.307 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-04 23:04:12.308 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/v1/Cars/get-all?pageParam=1&pageSize=10 - 401 0 null 19.466ms
2024-11-04 23:04:31.048 +03:00 [INF] User profile is available. Using 'C:\Users\onura\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-04 23:04:31.281 +03:00 [INF] Now listening on: https://localhost:7161
2024-11-04 23:04:31.283 +03:00 [INF] Now listening on: http://localhost:5129
2024-11-04 23:04:31.286 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-04 23:04:31.288 +03:00 [INF] Hosting environment: Development
2024-11-04 23:04:31.289 +03:00 [INF] Content root path: C:\Users\onura\OneDrive\Belgeler\GitHub\CarRental\Backend\carRental\carRental.API
2024-11-04 23:04:31.774 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - null null
2024-11-04 23:04:32.014 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - 200 null text/html;charset=utf-8 247.8645ms
2024-11-04 23:04:32.158 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - null null
2024-11-04 23:04:32.158 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - null null
2024-11-04 23:04:32.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 17.8333ms
2024-11-04 23:04:32.200 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.3418ms
2024-11-04 23:04:32.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - null null
2024-11-04 23:04:32.422 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 131.0364ms
2024-11-04 23:04:42.109 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v1/Auth/login - application/json 64
2024-11-04 23:04:42.181 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.AuthController.LoginV1 (carRental.API)'
2024-11-04 23:04:42.206 +03:00 [INF] Route matched with {action = "LoginV1", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginV1(carRental.API.Models.DTO.auth.LoginDTO) on controller carRental.API.Controllers.AuthController (carRental.API).
2024-11-04 23:04:43.397 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-04 23:04:43.592 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-04 23:04:43.628 +03:00 [INF] Executing OkObjectResult, writing value of type 'carRental.API.Models.DTO.auth.LoginResponseDTO'.
2024-11-04 23:04:43.637 +03:00 [INF] Executed action carRental.API.Controllers.AuthController.LoginV1 (carRental.API) in 1425.4982ms
2024-11-04 23:04:43.639 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.AuthController.LoginV1 (carRental.API)'
2024-11-04 23:04:43.646 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v1/Auth/login - 200 null application/json; charset=utf-8 1537.3189ms
2024-11-04 23:05:02.960 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/v1/Cars/get-all?pageParam=1&pageSize=10 - null null
2024-11-04 23:05:03.004 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CarsController.GetAllV1 (carRental.API)'
2024-11-04 23:05:03.009 +03:00 [INF] Route matched with {action = "GetAllV1", controller = "Cars"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllV1(Int32, Int32) on controller carRental.API.Controllers.CarsController (carRental.API).
2024-11-04 23:05:03.239 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-04 23:05:03.241 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-04 23:05:03.285 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Brand], [t].[CarVisit], [t].[CategoryId], [t].[Class], [t].[FamilyPrice], [t].[Fuel], [t].[ImageId], [t].[MetaDescription], [t].[MetaKeyword], [t].[MetaTitle], [t].[Name], [t].[Qty], [t].[SeatQty], [t].[SellingPrice], [t].[Shifter], [t].[Slug], [t].[Status], [t].[Trending], [i].[Id], [i].[FileDescription], [i].[FileExtension], [i].[FileName], [i].[FilePath], [i].[FileSize], [c0].[Id], [c0].[CateVisit], [c0].[Description], [c0].[ImageId], [c0].[MetaDescription], [c0].[MetaKeyword], [c0].[MetaTitle], [c0].[Name], [c0].[Popular], [c0].[Slug], [c0].[Status]
FROM (
    SELECT [c].[Id], [c].[Brand], [c].[CarVisit], [c].[CategoryId], [c].[Class], [c].[FamilyPrice], [c].[Fuel], [c].[ImageId], [c].[MetaDescription], [c].[MetaKeyword], [c].[MetaTitle], [c].[Name], [c].[Qty], [c].[SeatQty], [c].[SellingPrice], [c].[Shifter], [c].[Slug], [c].[Status], [c].[Trending]
    FROM [Cars] AS [c]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Images] AS [i] ON [t].[ImageId] = [i].[Id]
INNER JOIN [Categories] AS [c0] ON [t].[CategoryId] = [c0].[Id]
2024-11-04 23:05:03.372 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[carRental.API.Models.DTO.car.CarDTO, carRental.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-04 23:05:03.389 +03:00 [INF] Executed action carRental.API.Controllers.CarsController.GetAllV1 (carRental.API) in 377.3025ms
2024-11-04 23:05:03.391 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CarsController.GetAllV1 (carRental.API)'
2024-11-04 23:05:03.392 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/v1/Cars/get-all?pageParam=1&pageSize=10 - 200 null application/json; charset=utf-8 432.8601ms
2024-11-04 23:27:08.596 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-04 23:27:08.661 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-04 23:27:08.662 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-04 23:27:08.664 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-04 23:27:08.676 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-04 23:27:08.687 +03:00 [INF] Applying migration '20241104202649_addnewtables'.
2024-11-04 23:27:08.739 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Blogs] (
    [Id] uniqueidentifier NOT NULL,
    [ImageId] uniqueidentifier NOT NULL,
    [BlogCategory] nvarchar(max) NOT NULL,
    [Slug] nvarchar(max) NOT NULL,
    [Question] nvarchar(max) NOT NULL,
    [Answer] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Blogs] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Blogs_Images_ImageId] FOREIGN KEY ([ImageId]) REFERENCES [Images] ([Id]) ON DELETE NO ACTION
);
2024-11-04 23:27:08.741 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comments] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [StarRate] nvarchar(max) NOT NULL,
    [UserTitle] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([Id])
);
2024-11-04 23:27:08.742 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [FaQs] (
    [Id] uniqueidentifier NOT NULL,
    [Question] nvarchar(max) NOT NULL,
    [Answer] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_FaQs] PRIMARY KEY ([Id])
);
2024-11-04 23:27:08.749 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Blogs_ImageId] ON [Blogs] ([ImageId]);
2024-11-04 23:27:08.751 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241104202649_addnewtables', N'8.0.10');
2024-11-04 23:52:23.384 +03:00 [INF] User profile is available. Using 'C:\Users\onura\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-04 23:52:23.645 +03:00 [INF] Now listening on: https://localhost:7161
2024-11-04 23:52:23.647 +03:00 [INF] Now listening on: http://localhost:5129
2024-11-04 23:52:23.653 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-04 23:52:23.655 +03:00 [INF] Hosting environment: Development
2024-11-04 23:52:23.657 +03:00 [INF] Content root path: C:\Users\onura\OneDrive\Belgeler\GitHub\CarRental\Backend\carRental\carRental.API
2024-11-04 23:52:24.191 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - null null
2024-11-04 23:52:24.516 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - 200 null text/html;charset=utf-8 333.3979ms
2024-11-04 23:52:24.688 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - null null
2024-11-04 23:52:24.698 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.2865ms
2024-11-04 23:52:27.079 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - null null
2024-11-04 23:52:27.115 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.1837ms
2024-11-04 23:52:28.129 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - null null
2024-11-04 23:52:28.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.0909ms
2024-11-04 23:52:41.942 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - null null
2024-11-04 23:52:41.951 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - 200 null text/html;charset=utf-8 9.8779ms
2024-11-04 23:52:41.975 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - null null
2024-11-04 23:52:41.975 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - null null
2024-11-04 23:52:41.986 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.9381ms
2024-11-04 23:52:42.001 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.5727ms
2024-11-04 23:52:42.055 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - null null
2024-11-04 23:52:42.080 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.5234ms
2024-11-04 23:53:00.418 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v1/Auth/login - application/json 64
2024-11-04 23:53:00.498 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.AuthController.LoginV1 (carRental.API)'
2024-11-04 23:53:00.523 +03:00 [INF] Route matched with {action = "LoginV1", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginV1(carRental.API.Models.DTO.auth.LoginDTO) on controller carRental.API.Controllers.AuthController (carRental.API).
2024-11-04 23:53:01.805 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-04 23:53:02.004 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-04 23:53:02.039 +03:00 [INF] Executing OkObjectResult, writing value of type 'carRental.API.Models.DTO.auth.LoginResponseDTO'.
2024-11-04 23:53:02.047 +03:00 [INF] Executed action carRental.API.Controllers.AuthController.LoginV1 (carRental.API) in 1518.2569ms
2024-11-04 23:53:02.049 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.AuthController.LoginV1 (carRental.API)'
2024-11-04 23:53:02.056 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v1/Auth/login - 200 null application/json; charset=utf-8 1637.8316ms
2024-11-04 23:54:33.230 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - application/json 211
2024-11-04 23:54:33.276 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:54:33.280 +03:00 [INF] Route matched with {action = "CreateV1", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateV1(carRental.API.Models.DTO.comment.AddCommentDTO) on controller carRental.API.Controllers.CommentsController (carRental.API).
2024-11-04 23:54:33.288 +03:00 [INF] Executed action carRental.API.Controllers.CommentsController.CreateV1 (carRental.API) in 5.3608ms
2024-11-04 23:54:33.290 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:54:33.295 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'carRental.API.Repository.comment.ICommentRepository' while attempting to activate 'carRental.API.Controllers.CommentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method144(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-04 23:54:33.323 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - 500 null text/plain; charset=utf-8 94.1287ms
2024-11-04 23:55:15.854 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - application/json 214
2024-11-04 23:55:15.866 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:55:15.868 +03:00 [INF] Route matched with {action = "CreateV1", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateV1(carRental.API.Models.DTO.comment.AddCommentDTO) on controller carRental.API.Controllers.CommentsController (carRental.API).
2024-11-04 23:55:15.870 +03:00 [INF] Executed action carRental.API.Controllers.CommentsController.CreateV1 (carRental.API) in 0.4076ms
2024-11-04 23:55:15.871 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:55:15.873 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'carRental.API.Repository.comment.ICommentRepository' while attempting to activate 'carRental.API.Controllers.CommentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method144(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-04 23:55:15.881 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - 500 null text/plain; charset=utf-8 29.9007ms
2024-11-04 23:55:41.930 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - application/json 278
2024-11-04 23:55:41.939 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:55:41.942 +03:00 [INF] Route matched with {action = "CreateV1", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateV1(carRental.API.Models.DTO.comment.AddCommentDTO) on controller carRental.API.Controllers.CommentsController (carRental.API).
2024-11-04 23:55:41.945 +03:00 [INF] Executed action carRental.API.Controllers.CommentsController.CreateV1 (carRental.API) in 0.422ms
2024-11-04 23:55:41.947 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:55:41.948 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'carRental.API.Repository.comment.ICommentRepository' while attempting to activate 'carRental.API.Controllers.CommentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method144(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-04 23:55:41.955 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - 500 null text/plain; charset=utf-8 24.8999ms
2024-11-04 23:56:10.625 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - application/json 222
2024-11-04 23:56:10.636 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:56:10.638 +03:00 [INF] Route matched with {action = "CreateV1", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateV1(carRental.API.Models.DTO.comment.AddCommentDTO) on controller carRental.API.Controllers.CommentsController (carRental.API).
2024-11-04 23:56:10.640 +03:00 [INF] Executed action carRental.API.Controllers.CommentsController.CreateV1 (carRental.API) in 0.404ms
2024-11-04 23:56:10.641 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:56:10.643 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'carRental.API.Repository.comment.ICommentRepository' while attempting to activate 'carRental.API.Controllers.CommentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method144(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-04 23:56:10.652 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - 500 null text/plain; charset=utf-8 26.7055ms
2024-11-04 23:56:42.740 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - application/json 261
2024-11-04 23:56:42.746 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:56:42.747 +03:00 [INF] Route matched with {action = "CreateV1", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateV1(carRental.API.Models.DTO.comment.AddCommentDTO) on controller carRental.API.Controllers.CommentsController (carRental.API).
2024-11-04 23:56:42.750 +03:00 [INF] Executed action carRental.API.Controllers.CommentsController.CreateV1 (carRental.API) in 0.9493ms
2024-11-04 23:56:42.752 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:56:42.753 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'carRental.API.Repository.comment.ICommentRepository' while attempting to activate 'carRental.API.Controllers.CommentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method144(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-04 23:56:42.762 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - 500 null text/plain; charset=utf-8 22.4452ms
2024-11-04 23:56:53.944 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/api/v1/Comments/get-all - null null
2024-11-04 23:56:53.947 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CommentsController.GetAllV1 (carRental.API)'
2024-11-04 23:56:53.954 +03:00 [INF] Route matched with {action = "GetAllV1", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllV1() on controller carRental.API.Controllers.CommentsController (carRental.API).
2024-11-04 23:56:53.959 +03:00 [INF] Executed action carRental.API.Controllers.CommentsController.GetAllV1 (carRental.API) in 0.3898ms
2024-11-04 23:56:53.960 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CommentsController.GetAllV1 (carRental.API)'
2024-11-04 23:56:53.961 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'carRental.API.Repository.comment.ICommentRepository' while attempting to activate 'carRental.API.Controllers.CommentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method152(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-04 23:56:53.966 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/api/v1/Comments/get-all - 500 null text/plain; charset=utf-8 22.6607ms
2024-11-04 23:57:32.653 +03:00 [INF] User profile is available. Using 'C:\Users\onura\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-04 23:57:32.905 +03:00 [INF] Now listening on: https://localhost:7161
2024-11-04 23:57:32.906 +03:00 [INF] Now listening on: http://localhost:5129
2024-11-04 23:57:32.912 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-04 23:57:32.913 +03:00 [INF] Hosting environment: Development
2024-11-04 23:57:32.914 +03:00 [INF] Content root path: C:\Users\onura\OneDrive\Belgeler\GitHub\CarRental\Backend\carRental\carRental.API
2024-11-04 23:57:33.444 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/index.html - null null
2024-11-04 23:57:33.675 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/index.html - 200 null text/html;charset=utf-8 238.0864ms
2024-11-04 23:57:33.827 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - null null
2024-11-04 23:57:33.827 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/_vs/browserLink - null null
2024-11-04 23:57:33.837 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.5181ms
2024-11-04 23:57:33.875 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.1632ms
2024-11-04 23:57:33.968 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - null null
2024-11-04 23:57:34.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7161/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 128.9047ms
2024-11-04 23:58:01.986 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v1/Auth/login - application/json 64
2024-11-04 23:58:02.060 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.AuthController.LoginV1 (carRental.API)'
2024-11-04 23:58:02.085 +03:00 [INF] Route matched with {action = "LoginV1", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginV1(carRental.API.Models.DTO.auth.LoginDTO) on controller carRental.API.Controllers.AuthController (carRental.API).
2024-11-04 23:58:03.276 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-04 23:58:03.477 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-04 23:58:03.508 +03:00 [INF] Executing OkObjectResult, writing value of type 'carRental.API.Models.DTO.auth.LoginResponseDTO'.
2024-11-04 23:58:03.517 +03:00 [INF] Executed action carRental.API.Controllers.AuthController.LoginV1 (carRental.API) in 1426.6115ms
2024-11-04 23:58:03.519 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.AuthController.LoginV1 (carRental.API)'
2024-11-04 23:58:03.527 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v1/Auth/login - 200 null application/json; charset=utf-8 1541.2909ms
2024-11-04 23:58:23.146 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - application/json 98
2024-11-04 23:58:23.193 +03:00 [INF] Executing endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:58:23.199 +03:00 [INF] Route matched with {action = "CreateV1", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateV1(carRental.API.Models.DTO.comment.AddCommentDTO) on controller carRental.API.Controllers.CommentsController (carRental.API).
2024-11-04 23:58:23.203 +03:00 [INF] Executed action carRental.API.Controllers.CommentsController.CreateV1 (carRental.API) in 2.5692ms
2024-11-04 23:58:23.205 +03:00 [INF] Executed endpoint 'carRental.API.Controllers.CommentsController.CreateV1 (carRental.API)'
2024-11-04 23:58:23.208 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'carRental.API.Repository.comment.ICommentRepository' while attempting to activate 'carRental.API.Controllers.CommentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method144(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-04 23:58:23.233 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7161/api/v1/Comments/save-comment - 500 null text/plain; charset=utf-8 87.5634ms
